let s,d=null;function l(){return(d===null||d.byteLength===0)&&(d=new Uint8Array(s.memory.buffer)),d}let y=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});y.decode();const A=2146435072;let p=0;function E(t,e){return p+=e,p>=A&&(y=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),y.decode(),p=e),y.decode(l().subarray(t,t+e))}function a(t,e){return t=t>>>0,E(t,e)}function T(t,e){return t=t>>>0,l().subarray(t/1,t/1+e)}function C(t){const e=s.__externref_table_alloc();return s.__wbindgen_externrefs.set(e,t),e}function R(t,e){try{return t.apply(this,e)}catch(n){const r=C(n);s.__wbindgen_exn_store(r)}}let c=0;const b=new TextEncoder;"encodeInto"in b||(b.encodeInto=function(t,e){const n=b.encode(t);return e.set(n),{read:t.length,written:n.length}});function u(t,e,n){if(n===void 0){const f=b.encode(t),g=e(f.length,1)>>>0;return l().subarray(g,g+f.length).set(f),c=f.length,g}let r=t.length,i=e(r,1)>>>0;const o=l();let _=0;for(;_<r;_++){const f=t.charCodeAt(_);if(f>127)break;o[i+_]=f}if(_!==r){_!==0&&(t=t.slice(_)),i=n(i,r,r=_+t.length*3,1)>>>0;const f=l().subarray(i+_,i+r),g=b.encodeInto(t,f);_+=g.written,i=n(i,r,_,1)>>>0}return c=_,i}function h(t){const e=s.__wbindgen_externrefs.get(t);return s.__externref_table_dealloc(t),e}const m=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>s.__wbg_wasmgameengine_free(t>>>0,1));class w{static __wrap(e){e=e>>>0;const n=Object.create(w.prototype);return n.__wbg_ptr=e,m.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,m.unregister(this),e}free(){const e=this.__destroy_into_raw();s.__wbg_wasmgameengine_free(e,0)}constructor(e){const n=u(e,s.__wbindgen_malloc,s.__wbindgen_realloc),r=c,i=s.wasmgameengine_new(n,r);return this.__wbg_ptr=i>>>0,m.register(this,this.__wbg_ptr,this),this}static fromJson(e){const n=u(e,s.__wbindgen_malloc,s.__wbindgen_realloc),r=c,i=s.wasmgameengine_fromJson(n,r);if(i[2])throw h(i[1]);return w.__wrap(i[0])}toJson(){let e,n;try{const o=s.wasmgameengine_toJson(this.__wbg_ptr);var r=o[0],i=o[1];if(o[3])throw r=0,i=0,h(o[2]);return e=r,n=i,a(r,i)}finally{s.__wbindgen_free(e,n,1)}}executeCommand(e){let n,r;try{const i=u(e,s.__wbindgen_malloc,s.__wbindgen_realloc),o=c,_=s.wasmgameengine_executeCommand(this.__wbg_ptr,i,o);return n=_[0],r=_[1],a(_[0],_[1])}finally{s.__wbindgen_free(n,r,1)}}getInfo(){let e,n;try{const r=s.wasmgameengine_getInfo(this.__wbg_ptr);return e=r[0],n=r[1],a(r[0],r[1])}finally{s.__wbindgen_free(e,n,1)}}sleep(){let e,n;try{const r=s.wasmgameengine_sleep(this.__wbg_ptr);return e=r[0],n=r[1],a(r[0],r[1])}finally{s.__wbindgen_free(e,n,1)}}plantCrop(e){let n,r;try{const i=s.wasmgameengine_plantCrop(this.__wbg_ptr,e);return n=i[0],r=i[1],a(i[0],i[1])}finally{s.__wbindgen_free(n,r,1)}}waterCrops(){let e,n;try{const r=s.wasmgameengine_waterCrops(this.__wbg_ptr);return e=r[0],n=r[1],a(r[0],r[1])}finally{s.__wbindgen_free(e,n,1)}}harvestCrops(){let e,n;try{const r=s.wasmgameengine_harvestCrops(this.__wbg_ptr);return e=r[0],n=r[1],a(r[0],r[1])}finally{s.__wbindgen_free(e,n,1)}}advanceDay(){let e,n;try{const r=s.wasmgameengine_advanceDay(this.__wbg_ptr);return e=r[0],n=r[1],a(r[0],r[1])}finally{s.__wbindgen_free(e,n,1)}}getDay(){return s.wasmgameengine_getDay(this.__wbg_ptr)>>>0}getCurrentSeason(){let e,n;try{const r=s.wasmgameengine_getCurrentSeason(this.__wbg_ptr);return e=r[0],n=r[1],a(r[0],r[1])}finally{s.__wbindgen_free(e,n,1)}}buySeed(e){let n,r;try{const i=u(e,s.__wbindgen_malloc,s.__wbindgen_realloc),o=c,_=s.wasmgameengine_buySeed(this.__wbg_ptr,i,o);return n=_[0],r=_[1],a(_[0],_[1])}finally{s.__wbindgen_free(n,r,1)}}getAvailableSeeds(){let e,n;try{const r=s.wasmgameengine_getAvailableSeeds(this.__wbg_ptr);return e=r[0],n=r[1],a(r[0],r[1])}finally{s.__wbindgen_free(e,n,1)}}}Symbol.dispose&&(w.prototype[Symbol.dispose]=w.prototype.free);const v=new Set(["basic","cors","default"]);async function W(t,e){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,e)}catch(r){if(t.ok&&v.has(t.type)&&t.headers.get("Content-Type")!=="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}else{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}function S(){const t={};return t.wbg={},t.wbg.__wbg___wbindgen_throw_b855445ff6a94295=function(e,n){throw new Error(a(e,n))},t.wbg.__wbg_getRandomValues_38a1ff1ea09f6cc7=function(){return R(function(e,n){globalThis.crypto.getRandomValues(T(e,n))},arguments)},t.wbg.__wbg_getTime_14776bfb48a1bff9=function(e){return e.getTime()},t.wbg.__wbg_new_0_f9740686d739025c=function(){return new Date},t.wbg.__wbindgen_cast_2241b6af4c4b2941=function(e,n){return a(e,n)},t.wbg.__wbindgen_init_externref_table=function(){const e=s.__wbindgen_externrefs,n=e.grow(4);e.set(0,void 0),e.set(n+0,void 0),e.set(n+1,null),e.set(n+2,!0),e.set(n+3,!1)},t}function x(t,e){return s=t.exports,O.__wbindgen_wasm_module=e,d=null,s.__wbindgen_start(),s}function D(t){if(s!==void 0)return s;typeof t<"u"&&(Object.getPrototypeOf(t)===Object.prototype?{module:t}=t:console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));const e=S();t instanceof WebAssembly.Module||(t=new WebAssembly.Module(t));const n=new WebAssembly.Instance(t,e);return x(n,t)}async function O(t){if(s!==void 0)return s;typeof t<"u"&&(Object.getPrototypeOf(t)===Object.prototype?{module_or_path:t}=t:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof t>"u"&&(t=new URL("/assets/p2p_harvest_game_bg-CjfFpuCY.wasm",import.meta.url));const e=S();(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));const{instance:n,module:r}=await W(await t,e);return x(n,r)}export{w as WasmGameEngine,O as default,D as initSync};
